import SwiftUI

enum Language: String, CaseIterable, Identifiable {
    case turkish = "tr"
    case english = "en"
    
    var id: String { self.rawValue }
    
    var displayName: String {
        switch self {
        case .turkish: return "TÃ¼rkÃ§e"
        case .english: return "English"
        }
    }
}

class LanguageService: ObservableObject {
    @AppStorage("selectedLanguage") var selectedLanguage: Language = .english
    @AppStorage("isFirstLaunch") var isFirstLaunch: Bool = true
    
    
    func s(_ key: String) -> String {
        return translations[selectedLanguage]?[key] ?? key
    }
    
    private let translations: [Language: [String: String]] = [
        .turkish: [
            "home": "Ana Sayfa",
            "downloading": "Ä°ndiriliyor",
            "queued": "Kuyrukta",
            "completed": "TamamlandÄ±",
            "history": "GeÃ§miÅŸ",
            "keyring": "Kimlik Bilgileri",
            "settings": "Ayarlar",
            "new_download": "Yeni Ä°ndirme Ekle",
            "url_placeholder": "YouTube ve binlerce siteden video indirin",
            "stat_downloading": "Ä°ndiriliyor",
            "stat_queued": "Kuyrukta",
            "stat_completed": "TamamlandÄ±",
            "preferences": "Ayarlar",
            "general": "Genel",
            "download": "Ä°ndirme",
            "advanced": "GeliÅŸmiÅŸ",
            "about": "HakkÄ±nda",
            "theme": "Tema",
            "system": "Sistem",
            "light": "AÃ§Ä±k",
            "dark": "Koyu",
            "language": "Dil",
            "save_folder": "VarsayÄ±lan KayÄ±t Yeri",
            "select": "SeÃ§...",
            "updates": "GÃ¼ncellemeler",
            "check_updates": "Kontrol Et",
            "update_now": "GÃ¼ncelle",
            "format_settings": "Format AyarlarÄ±",
            "file_type": "VarsayÄ±lan Dosya Tipi",
            "video_quality": "VarsayÄ±lan Video Kalitesi",
            "embed_options": "GÃ¶mme SeÃ§enekleri",
            "embed_thumbnail": "Kapak resmini gÃ¶m",
            "embed_metadata": "Metadata'yÄ± gÃ¶m",
            "concurrent_downloads": "EÅŸzamanlÄ± Ä°ndirmeler",
            "max": "Maksimum",
            "sponsorblock_desc": "SponsorBlock, YouTube videolarÄ±ndaki sponsor segmentlerini otomatik olarak atlar.",
            "ytdlp_update": "yt-dlp'yi GÃ¼ncelle",
            "update_complete": "âœ… GÃ¼ncelleme tamamlandÄ±!",
            "update_error": "âŒ Hata:",
            "downloading_ytdlp": "Ä°ndiriliyor...",
            "version": "Versiyon",
            "credits": "KatkÄ±da Bulunanlar",
            "license": "Lisans",
            "license_desc": "Bu yazÄ±lÄ±m Ã¶zgÃ¼r yazÄ±lÄ±mdÄ±r. DeÄŸiÅŸtirebilir ve daÄŸÄ±tabilirsiniz.",
            "supported_sites": "Desteklenen Siteler",
            "other": "DiÄŸer",
            "empty_downloading": "Åu an indirilen video yok",
            "empty_queued": "Kuyrukta bekleyen video yok",
            "empty_completed": "TamamlandÄ± indirme yok",
            "video": "Video",
            "audio": "Ses",
            "default_video_resolution": "VarsayÄ±lan Video Ã‡Ã¶zÃ¼nÃ¼rlÃ¼ÄŸÃ¼",
            "sponsorblock": "SponsorBlock",
            "app_updates": "Uygulama GÃ¼ncellemesi",
            "app_up_to_date": "Uygulama gÃ¼ncel",
            "downloading_update": "GÃ¼ncelleme indiriliyor...",
            "installing_update": "GÃ¼ncelleme kuruluyor ve yeniden baÅŸlatÄ±lÄ±yor...",
            "update_failed": "GÃ¼ncelleme baÅŸarÄ±sÄ±z oldu!",
            "restart_to_install": "Yeniden BaÅŸlat ve Kur",
            "update_available_title": "Yeni GÃ¼ncelleme Mevcut!",
            "update_available_message": "Macabolic'in yeni sÃ¼rÃ¼mÃ¼ (v%@) hazÄ±r. Åimdi indirmek ister misiniz?",
            "later": "Daha Sonra",
            "whats_new_title": "Macabolic v2.1.3 - Yenilikler",
            "whats_new_message": "â€¢ Sidebar'a 'YolculuÄŸumu Destekle' butonu eklendi. â¤ï¸\nâ€¢ ArayÃ¼z iyileÅŸtirmeleri yapÄ±ldÄ±.\nâ€¢ Kod temizliÄŸi ve performans optimizasyonlarÄ± tamamlandÄ±.",
            "app_up_to_date": "Uygulama zaten gÃ¼ncel",
            "downloading_update": "GÃ¼ncelleme indiriliyor...",
            "installing_update": "GÃ¼ncelleme kuruluyor ve yeniden baÅŸlatÄ±lÄ±yor...",
            "update_failed": "GÃ¼ncelleme baÅŸarÄ±sÄ±z oldu!",
            "restart_to_install": "Yeniden BaÅŸlat ve Kur",
            "latest": "En son",
            "original_project": "Orijinal Proje",
            "view_license": "LisansÄ± GÃ¶rÃ¼ntÃ¼le",
            "app_desc": "YouTube ve binlerce siteden video indirmenizi saÄŸlayan modern bir macOS uygulamasÄ±.",
            "extra_settings": "Ekstra Ayarlar",
            "video_url": "Video URL'si",
            "url_hint": "YouTube, Vimeo, Twitter ve daha fazlasÄ±...",
            "paste_from_clipboard": "Panodan YapÄ±ÅŸtÄ±r",
            "fetch_info": "Bilgi Al",
            "quality": "Kalite",
            "custom_filename_hint": "Dosya adÄ± (boÅŸ bÄ±rakÄ±lÄ±rsa video baÅŸlÄ±ÄŸÄ± kullanÄ±lÄ±r)",
            "subtitles": "AltyazÄ±lar",
            "download_subtitles": "AltyazÄ±larÄ± indir",
            "languages": "Diller:",
            "embed_video": "Videoya gÃ¶m",
            "embedded_data": "GÃ¶mÃ¼lÃ¼ Veriler",
            "metadata_desc": "Metadata gÃ¶m (baÅŸlÄ±k, sanatÃ§Ä± vb.)",
            "split_chapters": "BÃ¶lÃ¼mlere ayÄ±r",
            "sponsorblock_hint": "SponsorBlock (reklamlarÄ± atla)",
            "cancel": "Ä°ptal",
            "download_btn": "Ä°ndir",
            "clear_history": "GeÃ§miÅŸi Temizle",
            "history_empty": "Ä°ndirme geÃ§miÅŸi boÅŸ",
            "history_desc": "Tamamlanan indirmeler burada gÃ¶rÃ¼necek",
            "search_history": "GeÃ§miÅŸte ara...",
            "play": "Oynat",
            "redownload": "Yeniden Ä°ndir",
            "copy_url": "URL Kopyala",
            "add_new": "Yeni Ekle",
            "keyring_empty": "Kimlik bilgisi yok",
            "keyring_desc": "Parola korumalÄ± iÃ§eriklere eriÅŸmek iÃ§in kimlik bilgisi ekleyin",
            "add_credential": "Kimlik Bilgisi Ekle",
            "new_credential": "Yeni Kimlik Bilgisi",
            "edit_credential": "Kimlik Bilgisini DÃ¼zenle",
            "name_hint": "Ad (Ã¶rn: YouTube Premium)",
            "name": "Ad",
            "username": "KullanÄ±cÄ± AdÄ±",
            "password": "Åifre",
            "save": "Kaydet",
            "fetching": "Bilgi AlÄ±nÄ±yor",
            "processing": "Ä°ÅŸleniyor",
            "failed": "Hata",
            "paused": "DuraklatÄ±ldÄ±",
            "stop_all": "TÃ¼mÃ¼nÃ¼ Durdur",
            "finder": "Finder'da GÃ¶ster",
            "retry": "Yeniden Dene",
            "stop": "Durdur",
            "log": "Log GÃ¶ster",
            "remove": "KaldÄ±r",
            "download_log": "Ä°ndirme Logu",
            "close": "Kapat",
            "no_log": "HenÃ¼z log yok...",
            "codec": "Codec",
            "auto_h264": "Otomatik (H.264)",
            "codec_warning": "Not: 1080p Ã¼zeri Ã§Ã¶zÃ¼nÃ¼rlÃ¼kler iÃ§in lÃ¼tfen AV1 veya VP9 codec'ini seÃ§in.",
            "support_btn": "Macabolic'i Destekleyin",
            "clear": "Temizle",
            "format": "Format"
        ],
        .english: [
            "home": "Home",
            "downloading": "Downloading",
            "queued": "Queued",
            "completed": "Completed",
            "history": "History",
            "keyring": "Keyring",
            "settings": "Settings",
            "new_download": "Add New Download",
            "url_placeholder": "Download video from YouTube and thousands of sites",
            "stat_downloading": "Downloading",
            "stat_queued": "Queued",
            "stat_completed": "Completed",
            "preferences": "Preferences",
            "general": "General",
            "download": "Download",
            "advanced": "Advanced",
            "about": "About",
            "theme": "Theme",
            "system": "System",
            "light": "Light",
            "dark": "Dark",
            "language": "Language",
            "save_folder": "Default Save Folder",
            "select": "Select...",
            "updates": "Updates",
            "check_updates": "Check for Updates",
            "update_now": "Update Now",
            "format_settings": "Format Settings",
            "file_type": "Default File Type",
            "video_quality": "Default Video Quality",
            "embed_options": "Embedding Options",
            "embed_thumbnail": "Embed Thumbnail",
            "embed_metadata": "Embed Metadata",
            "concurrent_downloads": "Concurrent Downloads",
            "max": "Maximum",
            "sponsorblock_desc": "SponsorBlock automatically skips sponsor segments in YouTube videos.",
            "ytdlp_update": "Update yt-dlp",
            "update_complete": "âœ… Update complete!",
            "update_error": "âŒ Error:",
            "downloading_ytdlp": "Downloading...",
            "version": "Version",
            "credits": "Credits",
            "license": "License",
            "license_desc": "This software is free software. You can redistribute and modify it.",
            "supported_sites": "Supported Sites",
            "other": "Other",
            "empty_downloading": "No videos are currently being downloaded",
            "empty_queued": "No videos waiting in queue",
            "empty_completed": "No completed downloads",
            "video": "Video",
            "audio": "Audio",
            "default_video_resolution": "Default Video Resolution",
            "sponsorblock": "SponsorBlock",
            "app_updates": "App Updates",
            "app_up_to_date": "App is up to date",
            "downloading_update": "Downloading update...",
            "installing_update": "Installing update & restarting...",
            "update_failed": "Update failed!",
            "restart_to_install": "Restart and Install",
            "update_available_title": "New Update Available!",
            "update_available_message": "A new version of Macabolic (v%@) is ready. Would you like to download it now?",
            "later": "Later",
            "app_up_to_date": "App is up to date",
            "downloading_update": "Downloading update...",
            "installing_update": "Installing update & restarting...",
            "update_failed": "Update failed!",
            "restart_to_install": "Restart and Install",
            "latest": "Latest",
            "original_project": "Original Project",
            "view_license": "View License",
            "cancel": "Cancel",
            "download_btn": "Download",
            "clear_history": "Clear History",
            "history_empty": "Download history is empty",
            "history_desc": "Completed downloads will appear here",
            "search_history": "Search in history...",
            "play": "Play",
            "redownload": "Re-download",
            "copy_url": "Copy URL",
            "add_new": "Add New",
            "keyring_empty": "No credentials",
            "keyring_desc": "Add credentials to access password-protected content",
            "add_credential": "Add Credential",
            "new_credential": "New Credential",
            "edit_credential": "Edit Credential",
            "name_hint": "Name (e.g. YouTube Premium)",
            "name": "Name",
            "username": "Username",
            "password": "Password",
            "save": "Save",
            "fetching": "Fetching Info...",
            "processing": "Processing...",
            "failed": "Failed",
            "paused": "Paused",
            "stop_all": "Stop All",
            "finder": "Show in Finder",
            "retry": "Retry",
            "stop": "Stop",
            "log": "Show Log",
            "remove": "Remove",
            "download_log": "Download Log",
            "close": "Close",
            "no_log": "No log yet...",
            "codec": "Codec",
            "auto_h264": "Auto (H.264)",
            "codec_warning": "Note: For resolutions higher than 1080p, please select AV1 or VP9 codec.",
            "clear": "Clear",
            "support_btn": "Support Macabolic",
            "format": "Format",
            "whats_new_title": "Macabolic v2.1.4 - What's New",
            "whats_new_message": "â€¢ ğŸ¬ Video Codec Selection: You can now manually select your preferred video codec (H.264, VP9, AV1, etc.) before downloading. The default 'Auto (H.264)' option prioritizes H.264 for compatibility.\nâ€¢ âš ï¸ Smart Quality Tips: A new helpful note appears when you select high resolutions (2K, 4K, or Best): 'Note: For resolutions higher than 1080p, please select AV1 or VP9 codec.'"
        ]
    ]
}
